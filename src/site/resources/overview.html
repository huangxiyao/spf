<html>
<head>
<title>Shared Portal Framework - HTML Viewer Portlet -
Administration and Developer's Guide</title>
</head>
<body>
<style type="text/css">
body {
	padding: 0;
	font-family: Verdana, Sans-serif;
	font-size: small;
}

h1 {
	font-family: Georgia, Serif;
	font-size: 200%;
	color: #404040;
	margin-top: 5px;
}

h2 {
	font-family: Georgia, Serif;
	font-size: 175%;
	color: #404040;
	page-break-before: always;
}

h3 {
	font-family: Verdana, Sans-serif;
	font-size: 150%;
	font-weight: bold;
	color: #404040;
	margin-top: 20px;
}

h4 {
	font-family: Verdana, Sans-serif;
	font-size: 125%;
	font-weight: bold;
	color: #404040;
	margin-top: 20px;
}

li {
	margin-left: -10px;
}

ol li {
	margin-bottom: 20px;
}

code {
	color: #990000;
	font-size: 110%
}

pre {
	color: #990000;
	font-size: 110%;
}

.byline {
	font-style: italic;
	font-size: 90%;
	color: gray;
	margin-top: -10px;
	border-bottom: solid black 1px;
}

.codeSample {
	color: #990000;
	font-family: 'Courier New', Courier, monospace;
	font-size: small;
	border: solid #990000 1px;
	padding: 5px;
}

.leftFloatingImage {
	float: left;
	margin: 0 10px 10px 0;
}

.rightFloatingImage {
	float: right;
	margin: 0 0 10px 10px;
}

.toc {
	list-style-type: none;
}

ul.toc ul {
	list-style-type: none;
}

table.props td,table.props th {
	padding: 5px;
	background-color: #F0F0F0
}

table.props th {
	font-size: 11px;
	font-weight: bold;
	text-align: right;
}

table.props td {
	font-family: 'Courier New', Courier, monospace;
}

.style1 {
	border-style: solid;
	border-width: 1px;
}
</style>

<a name="top">
<h1>Shared Portal Framework - HTML Viewer Portlet - Administration
and Developer's Guide<br>
<font color="red">Work in Progress</font></h1>
</a>

<a name="toc">
<h2>Table of Contents</h2>
</a>

<ul class="toc">
	<li>1. <a href="#overview">Overview</a>
	<ul>
		<li>1.1. <a href="#overview.installation">Installation</a>
		<ul>
			<li>1.1.1. <a href="#overview.installation.war">Installation
			of the <code>htmlviewer</code> WAR</a></li>
			<li>1.1.2. <a href="#overview.installation.i18n_portlet_config">Installation
			of <code>i18n_portlet_config.properties</code> (optional)</a></li>
			<li>1.1.3. <a href="#overview.installation.init_relay">Installation
			of <code>init_relay.properties</code> (optional)</a></li>
			<li>1.1.4. <a href="#overview.installation.html_viewer_includes">Installation
			of <code>html_viewer_includes.properties</code> (optional)</a></li>
		</ul>
		</li>
		<li>1.2. <a href="#overview.dependencies">Dependencies</a></li>
		<li>1.3. <a href="#overview.other">Other resources for <code>htmlviewer</code>
		portlet administrators and developers</a></li>
	</ul>
	</li>
	<li>2. <a href="#using">Using the <code>htmlviewer</code>
	portlet</a>
	<ul>
		<li>2.1. <a href="#using.authoring">Authoring the view
		content</a>
		<ul>
			<li>2.1.1. <a href="#using.authoring.file">Authoring the
			view file</a></li>
			<li>2.1.2. <a href="#using.authoring.other">Other resources
			referenced from the view file</a></li>
		</ul>
		</li>
		<li>2.2. <a href="#using.localizing">Localizing the view
		content</a></li>
		<li>2.3. <a href="#using.creating">Creating and configuring
		the portlet instance</a>
		<ul>
			<li>2.3.1. <a href="#using.creating.create">Creating the
			portlet instance</a></li>
			<li>2.3.2. <a href="#using.creating.configure">Configuring
			the portlet instance</a></li>
		</ul>
		</li>
	</ul>
	<li>3. <a href="#extending">Extending the <code>htmlviewer</code>
	portlet</a>
	<ul>
		<li>3.1. <a href="#extending.view">Extending the <code>view</code>
		mode</a>
		<ul>
			<li>3.1.1. <a href="#extending.view.java">Extending <code>ViewController</code></a></li>
			<li>3.1.2. <a href="#extending.view.jsp">Extending <code>view.jsp</code></a></li>
		</ul>
		</li>
		<li>3.2. <a href="#extending.config">Extending the <code>config</code>
		mode</a>
		<ul>
			<li>3.2.1. <a href="#extending.config.java">Extending <code>ConfigController</code></a></li>
			<li>3.2.2. <a href="#extending.config.jsp">Extending <code>config.jsp</code></a></li>
		</ul>
		</li>
		<li>3.3. <a href="#extending.app">Configuring and building
		the extended application</a>
		<ul>
			<li>3.3.1. <a href="#extending.app.spring">Configuring
			Spring to use the extensions</a></li>
			<li>3.3.2. <a href="#extending.app.packaging">Packaging the
			extensions</a></li>
		</ul>
		</li>
	</ul>
	</li>
	<li>4. <a href="#history">Document History</a></li>
</ul>

<hr>

<a name="overview">
<h2>1. Overview</h2>
</a>

<p>This is the administration guide and developer's guide for the <b>Shared
Portal Framework (SPF) HTML viewer portlet</b>. The HTML viewer portlet is a
JSR-168 (JSR-286-compatible) portlet for displaying an arbitrary content
file you provide (called a <i>view file</i>).</p>

<ul>
	<li>
	<p>The view file may contain any HTML, CSS, or JavaScript so long
	as it is portal-consumable (eg can be aggregated with other content
	from the portal and possible other portlet(s) to constitute the overall
	page).</p>
	</li>
	<li>
	<p>The view file may also contain any of the <a href="">special
	markup tokens</a> for server-side text interpolation, as supported by the
	SPF portlet utilities' <a href="">text interpolation</a> engine. Using
	these special markup tokens, your view file can:</p>
	<ul>
		<li>permission content based on user authentication or
		authorization;</li>
		<li>display user profile attributes (name, email, etc);</li>
		<li>present URLs for other static resources (images, etc) or
		portal pages (but not target portlets on those pages with parameters,
		modes, etc);</li>
		<li>consolidate content that otherwise would have to be
		maintained in multiple view files</li>
	</ul>
	<li>
	<p>The view file and its static resources (images, etc), if any,
	may be localized (for example, using the SPF standard localization
	business process); the portlet will render the versions which best-fit
	the user's locale.</p>
	</li>
	<li>
	<p>The portal administrator, when creating an instance of the
	portlet, configures the name of the view file to render. (The view file
	itself, and its other static resources if any, are created and edited
	separately, not online.)</p>
	</li>
	<li>
	<p>The view file, its static resources, and their localized
	versions may be stored <i>internal</i> to the portlet application or <i>external</i>,
	on the filesystem of the portlet server, in the <i>portlet resource
	bundle folder</i>.</p>
	<ul>
		<li>It is recommended to store them externally, if you anticipate
		the administrator will need to change those files.</li>
		<li>Changes to external files take effect without restarts.</li>
	</ul>
	</li>
	<li>
	<p>The portlet is contained in the <code>htmlviewer.war</code>
	portlet application and may be deployed as a local portlet with the
	portal, or as a remote portlet accessed by the portal over WSRP. (In
	Shared Portal Framework, in practice, the portlet will be deployed
	remotely in the OpenPortal container, and consumed by Vignette Portal.)</p>
	</li>
</ul>

<hr>

<a name="overview.installation">
<h3>1.1. Installation</h3>
</a>
<a name="overview.installation.war">
<h4>1.1.1 Installation of the <code>htmlviewer</code> WAR</h4>
</a>
<a name="overview.installation.i18n_portlet_config">
<h4>1.1.2 Installation of <code>i18n_portlet_config.properties</code>
(optional)</h4>
</a>
<a name="overview.installation.init_relay">
<h4>1.1.3 Installation of <code>init_relay.properties</code>
(optional)</h4>
</a>
<a name="overview.installation.html_viewer_includes">
<h4>1.1.4 Installation of <code>html_viewer_includes.properties</code>
(optional)</h4>
</a>

<hr>

<a name="overview.dependencies">
<h3>1.2. Dependencies</h3>
</a>

<hr>

<a name="overview.other">
<h3>1.3. Other resources for <code>htmlviewer</code> portlet
administrators and developers</h3>
</a>

<hr>

<a name="using">
<h2>2. Using the <code>htmlviewer</code> portlet</h2>
</a>

<hr>

<a name="using.authoring">
<h3>2.1. Authoring the view content</h3>
</a>
<a name="using.authoring.file">
<h4>2.1.1. Authoring the view file</h4>
</a>
<a name="using.authoring.other">
<h4>2.1.2. Other resources referenced from the view file</h4>
</a>

<hr>

<a name="using.localizing">
<h3>2.2. Localizing the view content</h3>
</a>

<hr>

<a name="using.creating">
<h3>2.3. Creating and configuring the portlet instance</h3>
</a>
<a name="using.creating.create">
<h4>2.3.1. Creating the portlet instance</h4>
</a>
<a name="using.creating.configure">
<h4>2.3.2. Configuring the portlet instance</h4>
</a>

<hr>

<a name="extending">
<h2>3. Extending the <code>htmlviewer</code> portlet</h2>
</a>

<hr>

<a name="extending.view">
<h3>3.1. Extending the <code>view</code> mode</h3>
</a>
<a name="extending.view.java">
<h4>3.1.1. Extending <code>ViewController</code></h4>
</a>
<a name="extending.view.jsp">
<h4>3.1.2. Extending <code>view.jsp</code></h4>
</a>

<hr>

<a name="extending.config">
<h3>3.2. Extending the <code>config</code> mode</h3>
</a>
<a name="extending.config.java">
<h4>3.2.1. Extending <code>ConfigController</code></h4>
</a>
<a name="extending.config.jsp">
<h4>3.2.2. Extending <code>config.jsp</code></h4>
</a>

<hr>

<a name="extending.app">
<h3>3.3. Configuring and building the extended application</h3>
</a>
<a name="extending.app.spring">
<h4>3.3.1. Configuring Spring to use the extensions</h4>
</a>
<a name="extending.app.packaging">
<h4>3.3.2. Packaging the extensions</h4>
</a>

<hr>

<a name="history">
<h2>4. Document History</h2>
</a>

<table border="1">
	<tr>
		<th>Version</th>
		<th>Date</th>
		<th>Editor</th>
		<th>Description</th>
	</tr>
</table>
<p></p>

<hr>

<h2>- End -</h2>
</body>
</html>
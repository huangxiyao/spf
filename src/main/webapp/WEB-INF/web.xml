<?xml version="1.0" encoding="UTF-8"?>

<web-app id="PortalWebApp" xmlns="http://java.sun.com/xml/ns/j2ee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"
	version="2.4">
	<display-name>Vignette Portal</display-name>
	<description>Vignette Portal</description>
	<distributable />

	<!--BEGIN HPD Context Params -->
	<!--
		- Key of the system property that should specify the root directory of this
		- web app. Applied by WebAppRootListener.
	-->
	<context-param>
		<param-name>webAppRootKey</param-name>
		<param-value>hpd.root</param-value>
	</context-param>

	<!--
		- Used by Spring's SingletonBeanFactoryLocator.  Combined with the
		- locatorFactorySelector option below this causes Spring to create
		- a SingletonBeanFactoryLocator and look for a bean factory with the
		- name supplied in this option.  That factory will become the parent
		- context for the web application context defined in the context parameter
		- contextConfigLocation.
	-->
	<context-param>
		<param-name>parentContextKey</param-name>
		<param-value>com.vignette.hpd</param-value>
	</context-param>

	<!--
		- This paramter causes Spring to create a SingletonBeanFactoryLocator and
		- look for a beanRefFactory.xml with defined bean factories.  In HPD
		- there is another bean factory that will be the parent of the web
		- application context.
	-->
	<context-param>
		<param-name>locatorFactorySelector</param-name>
		<param-value>classpath*:vgnHpdBeanRefFactory.xml</param-value>
	</context-param>

	<!--
		- Used by the ContextConfigLocator to create the WebApplicationContext.
		- For HPD this contains the definitions of the web filters.  If a
		- web application was also using spring and had its own web application
		- context XML file it could be added to this this param value.  The
		- contexts will be merged.
	-->
	<context-param>
		<param-name>contextConfigLocation</param-name>
		<param-value>classpath:VgnWebContext.xml</param-value>
	</context-param>
	<!--END HPD Context Params -->

	<!-- BEGIN HPD Filters  -->
	<!-- Set up HPD reader and writer filters.-->
	<!-- Only uncomment if HPD is being used.
		<filter>
		<filter-name>HPDCacheReaderFilter</filter-name>
		<filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
		<init-param>
		<param-name>targetBeanName</param-name>
		<param-value>cacheReaderFilter</param-value>
		</init-param>
		</filter>
		
		<filter>
		<filter-name>HPDCaptureFilter</filter-name>
		<filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class>
		<init-param>
		<param-name>targetBeanName</param-name>
		<param-value>captureFilter</param-value>
		</init-param>
		</filter>
	-->
	<!-- END HPD Filters  -->


	<!-- END-USER WEBSITE FILTER DEFINITIONS - BEGIN -->

	<filter>
		<filter-name>AdmissionControlFilter</filter-name>
		<filter-class>
			com.hp.it.spf.ac.portal.filter.AdmissionControlFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>InitPortalContextFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.enduser.filters.InitPortalContextFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>LocaleFilter</filter-name>
		<filter-class>
			com.hp.it.spf.localeresolver.filter.LocaleFilter
		</filter-class>
		<init-param>
			<param-name>targetLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.PortalRegisteredLocalesProviderFactory
			</param-value>
		</init-param>
		<init-param>
			<param-name>defaultLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.PortalDefaultLocaleProviderFactory
			</param-value>
		</init-param>
		<init-param>
			<param-name>passportLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.HppHeaderLocaleProviderFactory
			</param-value>
		</init-param>
	</filter>

	<filter>
		<filter-name>SessionInitializationFilter</filter-name>
		<filter-class>
			com.hp.it.spf.sso.portal.SessionInitializationFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>AuthenticationFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.enduser.filters.AuthenticationFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>SiteResolutionFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.enduser.filters.SiteResolutionFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>JSP Secure Access</filter-name>
		<filter-class>
			com.vignette.portal.website.enduser.filters.JSPAccessFilter
		</filter-class>
	</filter>

	<!-- SPP FILTER DEFINITIONS - BEGIN -->

	<filter>
		<filter-name>SPFLocaleFilter</filter-name>
		<filter-class>
			com.hp.it.spf.localeresolver.portal.filter.SPFLocaleFilter
		</filter-class>
		<init-param>
			<param-name>targetLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.PortalRegisteredLocalesProviderFactory
			</param-value>
		</init-param>
		<init-param>
			<param-name>defaultLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.PortalDefaultLocaleProviderFactory
			</param-value>
		</init-param>
		<init-param>
			<param-name>passportLocaleProviderFactory</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.provider.HppHeaderLocaleProviderFactory
			</param-value>
		</init-param>
		<init-param>
			<param-name>appSpecificLocaleSetter</param-name>
			<param-value>
				com.hp.it.spf.localeresolver.portal.setter.SPFLocaleSetter
			</param-value>
		</init-param>
	</filter>

	<filter>
		<filter-name>RequestLogFilter</filter-name>
		<filter-class>
			com.hp.it.spf.log.portal.filter.RequestLogFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>PortalURLRewriterFilter</filter-name>
		<filter-class>
			com.hp.it.spf.portalurl.portal.filter.PortalURLRewriterFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>RequestBindingFilter</filter-name>
		<filter-class>
			com.hp.it.spf.wsrp.injector.context.portal.filter.RequestBindingFilter
		</filter-class>
	</filter>

	<!-- SPP FILTER DEFINITIONS - END -->

	<!-- BEGIN HPD Filters  -->
	<!-- Only uncomment if HPD is being used.
		<filter>
		<filter-name>ResourcesCachingFilter</filter-name>
		<filter-class>com.vignette.portal.website.enduser.filters.ResourcesCachingFilter</filter-class>
		</filter>
	-->
	<!-- END HPD Filters  -->

	<!-- END-USER WEBSITE FILTER DEFINITIONS - END -->

	<!-- ADMIN WEBSITE FILTER DEFINITIONS - BEGIN -->
	<filter>
		<filter-name>admin_MultipartFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.MultipartFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>admin_InitFrameworkFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.InitFrameworkFilter
		</filter-class>
	</filter>


	<filter>
		<filter-name>admin_FailoverManagementFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.FailoverManagementFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>admin_LegacySiteConsoleURLFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.LegacySiteConsoleURLFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>admin_AdminContextFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.AdminContextFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>admin_ConsoleAuthorizationFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.ConsoleAuthorizationFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>admin_HelpAuthorizationFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.admin.internal.control.HelpAuthorizationFilter
		</filter-class>
	</filter>
	<!-- ADMIN WEBSITE FILTER DEFINITIONS - END -->

	<!-- GLOBAL FILTER DEFINITIONS - BEGIN -->
	<filter>
		<filter-name>EnvironmentalWrapperFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.internal.EnvironmentalWrapperFilter
		</filter-class>
	</filter>

	<filter>
		<filter-name>StartupProtectionFilter</filter-name>
		<filter-class>
			com.vignette.portal.website.internal.StartupProtectionFilter
		</filter-class>
	</filter>
	<!-- GLOBAL FILTER DEFINITIONS - END -->

	<!-- BEGIN HPD Filter Mappings  -->
	<!-- Only uncomment if HPD is being used.
		<filter-mapping>
		<filter-name>HPDCacheReaderFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>HPDCaptureFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>ResourcesCachingFilter</filter-name>
		<url-pattern>/templates/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>ResourcesCachingFilter</filter-name>
		<url-pattern>/beans/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>ResourcesCachingFilter</filter-name>
		<url-pattern>/images/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>ResourcesCachingFilter</filter-name>
		<url-pattern>/jslib/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
		
		<filter-mapping>
		<filter-name>ResourcesCachingFilter</filter-name>
		<url-pattern>/beanutils/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
		</filter-mapping>
	-->
	<!-- END HPD Filter Mappings  -->

	<!-- GLOBAL FILTER MAPPINGS - BEGIN -->
	<filter-mapping>
		<filter-name>EnvironmentalWrapperFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>StartupProtectionFilter</filter-name>
		<url-pattern>/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>
	<!-- GLOBAL FILTER MAPPINGS - END -->

	<!-- END-USER WEBSITE FILTER MAPPINGS - BEGIN -->
	<filter-mapping>
		<filter-name>RequestLogFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>PortalURLRewriterFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>RequestBindingFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>RequestBindingFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>RequestBindingFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>InitPortalContextFilter</filter-name>
		<servlet-name>controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>AdmissionControlFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>AdmissionControlFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>AdmissionControlFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>LocaleFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>LocaleFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>LocaleFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>SessionInitializationFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>SessionInitializationFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>SessionInitializationFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
	</filter-mapping>

	<filter-mapping>
		<filter-name>AuthenticationFilter</filter-name>
		<servlet-name>controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>SiteResolutionFilter</filter-name>
		<servlet-name>controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>InitPortalContextFilter</filter-name>
		<servlet-name>CssServlet</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>JSP Secure Access</filter-name>
		<url-pattern>/templates/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<!-- END-USER WEBSITE FILTER MAPPINGS - END -->

	<!-- ADMIN WEBSITE FILTER MAPPINGS - BEGIN -->
	<filter-mapping>
		<filter-name>admin_MultipartFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_InitFrameworkFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_InitFrameworkFilter</filter-name>
		<url-pattern>/admin/components/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_MultipartFilter</filter-name>
		<url-pattern>/admin/components/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>


	<filter-mapping>
		<filter-name>AuthenticationFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_FailoverManagementFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_LegacySiteConsoleURLFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_AdminContextFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_ConsoleAuthorizationFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_HelpAuthorizationFilter</filter-name>
		<url-pattern>/admin/components/*</url-pattern>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>
	<!-- ADMIN WEBSITE FILTER MAPPINGS - END -->

	<!-- ADMIN CONSOLE PORLTET INVOCATION FILTER MAPPING - BEGIN -->
	<filter-mapping>
		<filter-name>admin_InitFrameworkFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>


	<filter-mapping>
		<filter-name>AuthenticationFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>SPFLocaleFilter</filter-name>
		<servlet-name>controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>SPFLocaleFilter</filter-name>
		<servlet-name>admin_Controller</servlet-name>
	</filter-mapping>
	<filter-mapping>
		<filter-name>SPFLocaleFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
	</filter-mapping>


	<filter-mapping>
		<filter-name>admin_FailoverManagementFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_AdminContextFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>

	<filter-mapping>
		<filter-name>admin_ConsoleAuthorizationFilter</filter-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<dispatcher>REQUEST</dispatcher>
		<dispatcher>INCLUDE</dispatcher>
		<dispatcher>FORWARD</dispatcher>
	</filter-mapping>
	<!-- ADMIN CONSOLE PORLTET INVOCATION FILTER MAPPING - END -->

	<!-- GLOBAL APPLICATION LISTENERS - BEGIN -->
	<listener>
		<listener-class>
			com.vignette.portal.website.internal.AppContextListener
		</listener-class>
	</listener>
	<listener>
		<listener-class>
			com.vignette.webservices.toolkit.config.WebServiceToolkitConfiguration
		</listener-class>
	</listener>

	<listener>
		<listener-class>com.hp.it.spf.xa.management.portal.ManagementListener</listener-class>
	</listener>

	<listener>
		<listener-class>com.hp.it.spf.xa.axis.portal.AxisInitializationListener</listener-class>
	</listener>

	<!-- BEGIN HPD Listeners   -->

	<!--
		- Loads the root application context of this web app at startup,
		- by default from "/WEB-INF/applicationContext.xml".
		- Note that you need to fall back to Spring's ContextLoaderServlet for
		- J2EE servers that do not follow the Servlet 2.4 initialization order.
		-
		- Use WebApplicationContextUtils.getWebApplicationContext(servletContext)
		- to access it anywhere in the web application, outside of the framework.
		-
		- The root context is the parent of all servlet-specific contexts.
		- This means that its beans are automatically available in these child contexts,
		- both for getBean(name) calls and (external) bean references.
	-->
	<!--  Only uncomment if HPD is being used.
		<listener>
		<listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
		</listener>
	-->

	<!-- This listener starts the Portal-HPD Invalidation Manager. -->
	<!-- Only uncomment if HPD is being used.
		<listener>
		<listener-class>com.vignette.portal.hpd.invalidation.InvalidationManager</listener-class>
		</listener>
	-->

	<!-- END HPD Listeners   -->
	<!-- GLOBAL APPLICATION LISTENERS - END -->

	<!-- END-USER WEBSITE SERVLET DEFINITIONS - BEGIN -->
	<servlet>
		<description>Mount point for EFS-managed servlets</description>
		<display-name>ServletDispatcherServlet</display-name>
		<servlet-name>ServletDispatcherServlet</servlet-name>
		<servlet-class>
			com.epicentric.servlets.stackable.ServletDispatcherServlet
		</servlet-class>
		<init-param>
			<description>
				Value ("true" or "false") that determines whether class
				names will be runnable as servlets.
			</description>
			<param-name>allowClassNameMounting</param-name>
			<param-value>true</param-value>
		</init-param>
		<load-on-startup>1</load-on-startup>
	</servlet>

	<servlet>
		<servlet-name>controller</servlet-name>
		<servlet-class>
			com.vignette.portal.website.enduser.internal.ControllerServlet
		</servlet-class>
		<load-on-startup>1</load-on-startup>
	</servlet>

	<servlet>
		<servlet-name>CssServlet</servlet-name>
		<servlet-class>
			com.epicentric.template.servlet.CSSServlet
		</servlet-class>
	</servlet>
	<servlet>
		<description>
			Exposes functionality as a web service
		</description>
		<display-name>Web Service Servlet</display-name>
		<servlet-name>WebServiceServlet</servlet-name>
		<servlet-class>
			org.apache.axis.transport.http.AxisServlet
		</servlet-class>
	</servlet>
	<!-- END-USER WEBSITE SERVLET DEFINITIONS - END -->

	<!-- ADMIN WEBSITE SERVLET DEFINITIONS - BEGIN -->
	<servlet>
		<description>Controller servlet for admin console</description>
		<display-name>Admin Website Controller</display-name>
		<servlet-name>admin_Controller</servlet-name>
		<servlet-class>
			com.vignette.portal.website.admin.internal.control.Controller
		</servlet-class>
		<load-on-startup>1</load-on-startup>
	</servlet>
	<!-- ADMIN WEBSITE SERVLET DEFINITIONS - END -->

	<!-- ADMIN CONSOLE PORLTET INVOCATION SERVLET DEFINITIONS - BEGIN -->
	<servlet>
		<description>
			Controller servlet for pages which invoke portlets in the
			admin console
		</description>
		<display-name>
			Admin Console Portlet Invocation Controller
		</display-name>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<servlet-class>
			com.vignette.portal.portlet.website.internal.admin.PortletInvocationServlet
		</servlet-class>
	</servlet>
	<!-- ADMIN CONSOLE PORLTET INVOCATION SERVLET DEFINITIONS - END -->

	<!--BEGIN HPD remoting servlet -->
	<!-- spring remoting servlet   -->
	<!-- Only uncomment if HPD is being used.
		<servlet>
		<servlet-name>remoting</servlet-name>
		<servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
		<load-on-startup>1</load-on-startup>
		</servlet>
		
		<servlet-mapping>
		<servlet-name>remoting</servlet-name>
		<url-pattern>/remoting/*</url-pattern>
		</servlet-mapping>
	-->
	<!-- END HPD remoting servlet -->

	<!-- END-USER WEBSITE SERVLET MAPPINGS - BEGIN -->
	<servlet-mapping>
		<servlet-name>ServletDispatcherServlet</servlet-name>
		<url-pattern>/binary/*</url-pattern>
	</servlet-mapping>

	<servlet-mapping>
		<servlet-name>controller</servlet-name>
		<url-pattern>/system/*</url-pattern>
	</servlet-mapping>

	<servlet-mapping>
		<servlet-name>controller</servlet-name>
		<url-pattern>/site/*</url-pattern>
	</servlet-mapping>

	<servlet-mapping>
		<servlet-name>CssServlet</servlet-name>
		<url-pattern>/css/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>WebServiceServlet</servlet-name>
		<url-pattern>/webservice/*</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>WebServiceServlet</servlet-name>
		<url-pattern>/services/*</url-pattern>
	</servlet-mapping>
	<!-- END-USER WEBSITE SERVLET MAPPINGS - END -->

	<!-- ADMIN WEBSITE SERVLET MAPPINGS - BEGIN -->
	<servlet-mapping>
		<servlet-name>admin_Controller</servlet-name>
		<url-pattern>/console/*</url-pattern>
	</servlet-mapping>
	<!-- ADMIN WEBSITE SERVLET MAPPINGS - END -->

	<!-- ADMIN CONSOLE PORLTET INVOCATION SERVLET MAPPINGS - BEGIN -->
	<servlet-mapping>
		<servlet-name>admin_Portlet_Invocation_Controller</servlet-name>
		<url-pattern>/apc/*</url-pattern>
	</servlet-mapping>
	<!-- ADMIN CONSOLE PORLTET INVOCATION SERVLET MAPPINGS - END -->

	<!-- BEGIN resource-ref Mapping -->

	<!-- This resource reference defines the jndi datasource name -->
	<!-- uncomment for HPD
		<resource-ref id="HpdDbResourceRef">
		<res-ref-name>jdbc/hpdDataSource</res-ref-name>
		<res-type>javax.sql.DataSource</res-type>
		<res-auth>Container</res-auth>
		</resource-ref>
	-->

	<!-- END resource-ref Mapping -->

	<!-- SESSION CONFIG - BEGIN -->
	<session-config>
		<session-timeout>30</session-timeout>
	</session-config>
	<!-- SESSION CONFIG - END -->

	<!-- MIMETYPES - BEGIN -->
	<mime-mapping>
		<extension>abs</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ai</extension>
		<mime-type>application/postscript</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>aif</extension>
		<mime-type>audio/x-aiff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>aifc</extension>
		<mime-type>audio/x-aiff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>aiff</extension>
		<mime-type>audio/x-aiff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>aim</extension>
		<mime-type>application/x-aim</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>art</extension>
		<mime-type>image/x-jg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>asf</extension>
		<mime-type>video/x-ms-asf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>asx</extension>
		<mime-type>video/x-ms-asf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>au</extension>
		<mime-type>audio/basic</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>avi</extension>
		<mime-type>video/x-msvideo</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>avx</extension>
		<mime-type>video/x-rad-screenplay</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>bcpio</extension>
		<mime-type>application/x-bcpio</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>bin</extension>
		<mime-type>application/octet-stream</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>bmp</extension>
		<mime-type>image/bmp</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>body</extension>
		<mime-type>text/html</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>cdf</extension>
		<mime-type>application/x-cdf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>cer</extension>
		<mime-type>application/x-x509-ca-cert</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>class</extension>
		<mime-type>application/java</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>cpio</extension>
		<mime-type>application/x-cpio</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>csh</extension>
		<mime-type>application/x-csh</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>css</extension>
		<mime-type>text/css</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>dib</extension>
		<mime-type>image/bmp</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>doc</extension>
		<mime-type>application/msword</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>dtd</extension>
		<mime-type>text/plain</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>dv</extension>
		<mime-type>video/x-dv</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>dvi</extension>
		<mime-type>application/x-dvi</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>eps</extension>
		<mime-type>application/postscript</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>etx</extension>
		<mime-type>text/x-setext</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>exe</extension>
		<mime-type>application/octet-stream</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>gif</extension>
		<mime-type>image/gif</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>gtar</extension>
		<mime-type>application/x-gtar</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>gz</extension>
		<mime-type>application/x-gzip</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>hdf</extension>
		<mime-type>application/x-hdf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>hqx</extension>
		<mime-type>application/mac-binhex40</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>htc</extension>
		<mime-type>text/x-component</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>htm</extension>
		<mime-type>text/html</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>html</extension>
		<mime-type>text/html</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ief</extension>
		<mime-type>image/ief</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jad</extension>
		<mime-type>text/vnd.sun.j2me.app-descriptor</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jar</extension>
		<mime-type>application/java-archive</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>java</extension>
		<mime-type>text/plain</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jnlp</extension>
		<mime-type>application/x-java-jnlp-file</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jpe</extension>
		<mime-type>image/jpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jpeg</extension>
		<mime-type>image/jpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>jpg</extension>
		<mime-type>image/jpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>js</extension>
		<mime-type>text/javascript</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>kar</extension>
		<mime-type>audio/x-midi</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>latex</extension>
		<mime-type>application/x-latex</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>m3u</extension>
		<mime-type>audio/x-mpegurl</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mac</extension>
		<mime-type>image/x-macpaint</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>man</extension>
		<mime-type>application/x-troff-man</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>me</extension>
		<mime-type>application/x-troff-me</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mid</extension>
		<mime-type>audio/x-midi</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>midi</extension>
		<mime-type>audio/x-midi</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mif</extension>
		<mime-type>application/x-mif</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mov</extension>
		<mime-type>video/quicktime</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>movie</extension>
		<mime-type>video/x-sgi-movie</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mp1</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mp2</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mp3</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpa</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpe</extension>
		<mime-type>video/mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpeg</extension>
		<mime-type>video/mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpega</extension>
		<mime-type>audio/x-mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpg</extension>
		<mime-type>video/mpeg</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>mpv2</extension>
		<mime-type>video/mpeg2</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ms</extension>
		<mime-type>application/x-wais-source</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>nc</extension>
		<mime-type>application/x-netcdf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>oda</extension>
		<mime-type>application/oda</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pbm</extension>
		<mime-type>image/x-portable-bitmap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pct</extension>
		<mime-type>image/pict</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pdf</extension>
		<mime-type>application/pdf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pgm</extension>
		<mime-type>image/x-portable-graymap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pic</extension>
		<mime-type>image/pict</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pict</extension>
		<mime-type>image/pict</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pls</extension>
		<mime-type>audio/x-scpls</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>png</extension>
		<mime-type>image/png</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pnm</extension>
		<mime-type>image/x-portable-anymap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>pnt</extension>
		<mime-type>image/x-macpaint</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ppm</extension>
		<mime-type>image/x-portable-pixmap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ps</extension>
		<mime-type>application/postscript</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>psd</extension>
		<mime-type>image/x-photoshop</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>qt</extension>
		<mime-type>video/quicktime</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>qti</extension>
		<mime-type>image/x-quicktime</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>qtif</extension>
		<mime-type>image/x-quicktime</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ras</extension>
		<mime-type>image/x-cmu-raster</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>rgb</extension>
		<mime-type>image/x-rgb</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>rm</extension>
		<mime-type>application/vnd.rn-realmedia</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>roff</extension>
		<mime-type>application/x-troff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>rtf</extension>
		<mime-type>application/rtf</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>rtx</extension>
		<mime-type>text/richtext</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>sh</extension>
		<mime-type>application/x-sh</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>shar</extension>
		<mime-type>application/x-shar</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>smf</extension>
		<mime-type>audio/x-midi</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>snd</extension>
		<mime-type>audio/basic</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>src</extension>
		<mime-type>application/x-wais-source</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>sv4cpio</extension>
		<mime-type>application/x-sv4cpio</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>sv4crc</extension>
		<mime-type>application/x-sv4crc</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>swf</extension>
		<mime-type>application/x-shockwave-flash</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>t</extension>
		<mime-type>application/x-troff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tar</extension>
		<mime-type>application/x-tar</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tcl</extension>
		<mime-type>application/x-tcl</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tex</extension>
		<mime-type>application/x-tex</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>texi</extension>
		<mime-type>application/x-texinfo</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>texinfo</extension>
		<mime-type>application/x-texinfo</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tif</extension>
		<mime-type>image/tiff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tiff</extension>
		<mime-type>image/tiff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tr</extension>
		<mime-type>application/x-troff</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>tsv</extension>
		<mime-type>text/tab-separated-values</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>txt</extension>
		<mime-type>text/plain</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ulw</extension>
		<mime-type>audio/basic</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>ustar</extension>
		<mime-type>application/x-ustar</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>xbm</extension>
		<mime-type>image/x-xbitmap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>xpm</extension>
		<mime-type>image/x-xpixmap</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>xwd</extension>
		<mime-type>image/x-xwindowdump</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>wav</extension>
		<mime-type>audio/x-wav</mime-type>
	</mime-mapping>
	<mime-mapping>
		<!-- Wireless Bitmap -->
		<extension>wbmp</extension>
		<mime-type>image/vnd.wap.wbmp</mime-type>
	</mime-mapping>
	<mime-mapping>
		<!-- WML Source -->
		<extension>wml</extension>
		<mime-type>text/vnd.wap.wml</mime-type>
	</mime-mapping>
	<mime-mapping>
		<!-- Compiled WML -->
		<extension>wmlc</extension>
		<mime-type>application/vnd.wap.wmlc</mime-type>
	</mime-mapping>
	<mime-mapping>
		<!-- WML Script Source -->
		<extension>wmls</extension>
		<mime-type>text/vnd.wap.wmls</mime-type>
	</mime-mapping>
	<mime-mapping>
		<!-- Compiled WML Script -->
		<extension>wmlscriptc</extension>
		<mime-type>application/vnd.wap.wmlscriptc</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>wrl</extension>
		<mime-type>x-world/x-vrml</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>Z</extension>
		<mime-type>application/x-compress</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>z</extension>
		<mime-type>application/x-compress</mime-type>
	</mime-mapping>
	<mime-mapping>
		<extension>zip</extension>
		<mime-type>application/zip</mime-type>
	</mime-mapping>
	<!-- MIMETYPES - END -->

	<!-- WELCOME FILE LIST - BEGIN -->
	<welcome-file-list>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>
	<!-- WELCOME FILE LIST - END -->

	<!-- END-USER WEBSITE TAGLIBS - BEGIN -->
	<jsp-config>
		<taglib>
			<taglib-uri>epi-tags</taglib-uri>
			<taglib-location>
				/WEB-INF/taglib/taglib.tld
			</taglib-location>
		</taglib>

		<taglib>
			<taglib-uri>vgn-tags</taglib-uri>
			<taglib-location>
				/WEB-INF/taglib/taglib.tld
			</taglib-location>
		</taglib>

		<taglib>
			<taglib-uri>module-tags</taglib-uri>
			<taglib-location>
				/WEB-INF/taglib/modules.tld
			</taglib-location>
		</taglib>

		<!-- END-USER WEBSITE TAGLIBS - END -->

		<!-- ADMIN WEBSITE TAGLIBS - BEGIN -->
		<taglib>
			<taglib-uri>admin-tags</taglib-uri>
			<taglib-location>/WEB-INF/taglib/admin.tld</taglib-location>
		</taglib>
		<!-- ADMIN WEBSITE TAGLIBS - END -->

		<!-- GLOBAL TAGLIBS - BEGIN -->
		<taglib>
			<taglib-uri>jstl-tags</taglib-uri>
			<taglib-location>/WEB-INF/taglib/c.tld</taglib-location>
		</taglib>

		<!-- to be removed as soon as it is no longer referenced -->
		<taglib>
			<taglib-uri>http://java.sun.com/jstl/core</taglib-uri>
			<taglib-location>/WEB-INF/taglib/c.tld</taglib-location>
		</taglib>
		<!-- GLOBAL TAGLIBS - END -->
	</jsp-config>

</web-app>
